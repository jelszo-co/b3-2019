{"version":3,"sources":["readable/Game.js"],"names":[],"mappings":"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","file":"Game.min.js","sourcesContent":["// |**********************************|\r\n// Bakonyi Bitfaragó Bajnokság 2019\r\n// Jelszo csapat\r\n// Második forduló\r\n// |**********************************|\r\n\r\n\"use strict\";\r\n\r\nconst e = React.createElement;\r\n\r\n// Adatbekérő űrlap\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tformRows: \"\",\r\n\t\t\tformCols: \"\",\r\n\t\t\tminValue: 5,\r\n\t\t\tmaxValue: 15,\r\n\t\t\tgameStarted: false,\r\n\t\t\thardMode: false\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thardMode,\r\n\t\t\tgameStarted,\r\n\t\t\tformRows,\r\n\t\t\tformCols,\r\n\t\t\tminValue,\r\n\t\t\tmaxValue\r\n\t\t} = this.state;\r\n\r\n\t\t// Bekérés gomb megnyomásakor ellenőrzés után Tábla megjelenítése\r\n\t\tconst onSubmit = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (\r\n\t\t\t\tformRows < minValue ||\r\n\t\t\t\tformRows > maxValue ||\r\n\t\t\t\tformCols < minValue ||\r\n\t\t\t\tformCols > maxValue\r\n\t\t\t) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t`Hopsz! Az értékeknek ${minValue} és ${maxValue} között kell lenniük.`\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ gameStarted: true });\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst onChange = (e) => {\r\n\t\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t\t};\r\n\t\tconst changeMode = () => {\r\n\t\t\tthis.setState({ hardMode: !this.state.hardMode });\r\n\t\t};\r\n\t\tif (gameStarted) {\r\n\t\t\treturn <Game rows={formRows} cols={formCols} hardMode={hardMode} />;\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"input\">\r\n\t\t\t\t\t<h2>Tábla generálása</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tMinimum <b>{minValue + \"x\" + minValue}</b>, maximum{\" \"}\r\n\t\t\t\t\t\t<b>{maxValue + \"x\" + maxValue}</b> négyzet.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"formRows\"\r\n\t\t\t\t\t\t\tplaceholder=\"Sorok\"\r\n\t\t\t\t\t\t\tvalue={formRows}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"formCols\"\r\n\t\t\t\t\t\t\tplaceholder=\"Oszlopok\"\r\n\t\t\t\t\t\t\tvalue={formCols}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"checkbox-wrapper\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={`checkbox ${hardMode ? \"checkbox-hard\" : \"\"}`}\r\n\t\t\t\t\t\t\t\tonClick={changeMode}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName={`checkbox__circle ${\r\n\t\t\t\t\t\t\t\t\t\thardMode ? \"checkbox__circle-hard\" : \"\"\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tMód: <span>{hardMode ? \"Nehezített\" : \"Sima\"}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type=\"submit\" value=\"Generálás!\" />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<hr id=\"hr\" />\r\n\t\t\t\t\t<p id=\"about\">A játékról röviden:</p>\r\n\t\t\t\t\t<p>Adott egy négyzetrácsos tábla. Meg lehet-e oldani, hogy valamelyik mezőjére leteszünk egy huszár figurát, majd a bábu sakk-lépéseinek megfelelően a teljes pályát bejárjuk úgy, hogy minden mezőre pontosan egyszer lépünk?</p>\r\n\t\t\t\t\t<p>A nehezített módban úgynevezett \"szenzormezők\" vannak véletlenszerűen elhelyezve a pályán. Ilyenkor ha a játékos túl sok időd tölt ezen a területen (5 mp), akkor vége a játéknak.</p>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Játéktábla\r\nclass Game extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// Megjelenéskor adott méretű (úrlapról kapott adatok) kétdimenziós tömb generálása\r\n\t\tlet initTable = [];\r\n\t\tfor (let i = 0; i < props.rows; i++) {\r\n\t\t\tinitTable[i] = [];\r\n\t\t\tfor (let j = 0; j < props.cols; j++) {\r\n\t\t\t\tinitTable[i][j] = {\r\n\t\t\t\t\trow: i,\r\n\t\t\t\t\tcol: j,\r\n\t\t\t\t\tavail: false,\r\n\t\t\t\t\toccup: false,\r\n\t\t\t\t\ttext: \"x\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (props.hardMode === true) {\r\n\t\t\t// Nehezített mód esetén 6db véletlenszerű szenzorpozíció generálása\r\n\t\t\tlet sensorRow = Math.floor(Math.random() * props.rows);\r\n\t\t\tlet sensorCol = Math.floor(Math.random() * props.cols);\r\n\t\t\tlet sensorRow2 = Math.floor(Math.random() * props.rows);\r\n\t\t\tlet sensorCol2 = Math.floor(Math.random() * props.cols);\r\n\t\t\tlet sensorRow3 = Math.floor(Math.random() * props.rows);\r\n\t\t\tlet sensorCol3 = Math.floor(Math.random() * props.cols);\r\n\r\n\t\t\t// Függvény szenzormezők generálására\r\n\t\t\tconst genSensors = (i, j, dim, isCross) => {\r\n\t\t\t\tinitTable[i][j].isSensorCenter = true;\r\n\t\t\t\tinitTable[i][j].isSensorArea = true;\r\n\t\t\t\tlet interval, smallInterval;\r\n\t\t\t\tlet dimSmall = dim - 2;\r\n\t\t\t\tlet medianDim = Math.floor(dim / 2);\r\n\t\t\t\tsmallInterval =\r\n\t\t\t\t\t(dimSmall - (dimSmall % 2)) / 2 - (dimSmall - (dimSmall % 2));\r\n\t\t\t\tinterval = (dim - (dim % 2)) / 2 - (dim - (dim % 2));\r\n\r\n\t\t\t\tif (isCross === true) {\r\n\t\t\t\t\tfor (let ii = 0; ii < dim; ii++) {\r\n\t\t\t\t\t\tfor (let jj = 0; jj < dim; jj++) {\r\n\t\t\t\t\t\t\tif (i + ii + interval >= 0 && i + ii + interval < props.rows) {\r\n\t\t\t\t\t\t\t\tif (j + jj + interval >= 0 && j + jj + interval < props.cols) {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t(ii === 0 && jj === medianDim) ||\r\n\t\t\t\t\t\t\t\t\t\t(ii === medianDim && jj === 0) ||\r\n\t\t\t\t\t\t\t\t\t\t(ii === medianDim && jj === dim - 1) ||\r\n\t\t\t\t\t\t\t\t\t\t(ii === dim - 1 && jj === medianDim)\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tinitTable[i + ii + interval][\r\n\t\t\t\t\t\t\t\t\t\t\tj + jj + interval\r\n\t\t\t\t\t\t\t\t\t\t].isSensorArea = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let ii = 0; ii < dimSmall; ii++) {\r\n\t\t\t\t\t\tfor (let jj = 0; jj < dimSmall; jj++) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\ti + ii + smallInterval >= 0 &&\r\n\t\t\t\t\t\t\t\ti + ii + smallInterval < props.rows\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\tj + jj + smallInterval >= 0 &&\r\n\t\t\t\t\t\t\t\t\tj + jj + smallInterval < props.cols\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tinitTable[i + ii + smallInterval][\r\n\t\t\t\t\t\t\t\t\t\tj + jj + smallInterval\r\n\t\t\t\t\t\t\t\t\t].isSensorArea = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let ii = 0; ii < dim; ii++) {\r\n\t\t\t\t\t\tfor (let jj = 0; jj < dim; jj++) {\r\n\t\t\t\t\t\t\tif (i + ii + interval >= 0 && i + ii + interval < props.rows) {\r\n\t\t\t\t\t\t\t\tif (j + jj + interval >= 0 && j + jj + interval < props.cols) {\r\n\t\t\t\t\t\t\t\t\tinitTable[i + ii + interval][\r\n\t\t\t\t\t\t\t\t\t\tj + jj + interval\r\n\t\t\t\t\t\t\t\t\t].isSensorArea = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// Tábla méretétől függően szenzormezők generálása\r\n\t\t\tif (props.rows >= 13 || props.cols >= 13) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 7, false);\r\n\t\t\t\tgenSensors(sensorRow2, sensorCol2, 7, true);\r\n\t\t\t\tgenSensors(sensorRow3, sensorCol3, 5, true);\r\n\t\t\t} else if (props.rows >= 11 || props.cols >= 11) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 7, true);\r\n\t\t\t\tgenSensors(sensorRow2, sensorCol2, 5, false);\r\n\t\t\t} else if (props.rows >= 9 || props.cols >= 9) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 5, true);\r\n\t\t\t\tgenSensors(sensorRow2, sensorCol2, 3, false);\r\n\t\t\t} else if (props.rows >= 7 || props.cols >= 7) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 3, false);\r\n\t\t\t\tgenSensors(sensorRow2, sensorCol2, 3, false);\r\n\t\t\t} else if (props.rows >= 6 || props.cols >= 6) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 5, true);\r\n\t\t\t} else if (props.rows >= 5 || props.cols >= 5) {\r\n\t\t\t\tgenSensors(sensorRow, sensorCol, 3, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\ttable: initTable,\r\n\t\t\tcurrentStep: 2,\r\n\t\t\tstartCube: true,\r\n\t\t\tstartCubePos: {\r\n\t\t\t\trow: 0,\r\n\t\t\t\tcol: 0\r\n\t\t\t},\r\n\t\t\tclock: {\r\n\t\t\t\tpassing: false,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tm: 0,\r\n\t\t\t\tsDisp: \"00\",\r\n\t\t\t\tmDisp: \"00\"\r\n\t\t\t},\r\n\t\t\tresult: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tstartCube,\r\n\t\t\tstartCubePos,\r\n\t\t\tcurrentStep,\r\n\t\t\ttable,\r\n\t\t\tclock,\r\n\t\t\tresult,\r\n\t\t\tbonus,\r\n\t\t\tsensorWarn,\r\n\t\t\tsensorRemain\r\n\t\t} = this.state;\r\n\t\tconst { rows, cols } = this.props;\r\n\r\n\t\t// Kezdő pozíció megválasztása után lefutó függvény\r\n\t\tconst toggleStart = (row, col, isSensor) => {\r\n\t\t\tconsole.log(\"startCube clicked:\" + row + \":\" + col);\r\n\t\t\tthis.setState({ startCubePos: { ...this.state.startCubePos, row, col } });\r\n\t\t\tlet newTable = this.state.table;\r\n\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\tif (i !== row || j !== col) {\r\n\t\t\t\t\t\tif (newTable[i][j].isSensorCenter !== true) {\r\n\t\t\t\t\t\t\tnewTable[i][j].text = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i === row && j === col) {\r\n\t\t\t\t\t\tnewTable[i][j].text = \"1\";\r\n\t\t\t\t\t\tnewTable[i][j].occup = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t// Lehetséges lépések mutatása, pozícióhoz képest relatívan\r\n\t\t\t\t\t\t// Horizontal steps\r\n\t\t\t\t\t\t(i === row + 1 && j === col + 2) ||\r\n\t\t\t\t\t\t(i === row - 1 && j === col + 2) ||\r\n\t\t\t\t\t\t(i === row + 1 && j === col - 2) ||\r\n\t\t\t\t\t\t(i === row - 1 && j === col - 2) ||\r\n\t\t\t\t\t\t// Vertical steps\r\n\t\t\t\t\t\t(i === row + 2 && j === col + 1) ||\r\n\t\t\t\t\t\t(i === row - 2 && j === col + 1) ||\r\n\t\t\t\t\t\t(i === row + 2 && j === col - 1) ||\r\n\t\t\t\t\t\t(i === row - 2 && j === col - 1)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (newTable[i][j].occup === false) {\r\n\t\t\t\t\t\t\tnewTable[i][j].avail = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Játék és óra indítása\r\n\t\t\tthis.setState({\r\n\t\t\t\ttable: newTable,\r\n\t\t\t\tstartCube: false,\r\n\t\t\t\tclock: { ...this.state.clock, passing: true }\r\n\t\t\t});\r\n\t\t\t// Óra frisítése másodpercenként\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tif (this.state.clock.passing === true) {\r\n\t\t\t\t\tif (this.state.clock.s === 59) {\r\n\t\t\t\t\t\tif (this.state.clock.m < 9) {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tclock: {\r\n\t\t\t\t\t\t\t\t\t...this.state.clock,\r\n\t\t\t\t\t\t\t\t\tm: this.state.clock.m + 1,\r\n\t\t\t\t\t\t\t\t\tmDisp: `0${this.state.clock.m + 1}`,\r\n\t\t\t\t\t\t\t\t\ts: 0,\r\n\t\t\t\t\t\t\t\t\tsDisp: \"00\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tclock: {\r\n\t\t\t\t\t\t\t\t\t...this.state.clock,\r\n\t\t\t\t\t\t\t\t\tm: this.state.clock.m + 1,\r\n\t\t\t\t\t\t\t\t\tmDisp: `${this.state.clock.m + 1}`,\r\n\t\t\t\t\t\t\t\t\ts: 0,\r\n\t\t\t\t\t\t\t\t\tsDisp: \"00\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.state.clock.s < 9) {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tclock: {\r\n\t\t\t\t\t\t\t\t\t...this.state.clock,\r\n\t\t\t\t\t\t\t\t\ts: this.state.clock.s + 1,\r\n\t\t\t\t\t\t\t\t\tsDisp: `0${this.state.clock.s + 1}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tclock: {\r\n\t\t\t\t\t\t\t\t\t...this.state.clock,\r\n\t\t\t\t\t\t\t\t\ts: this.state.clock.s + 1,\r\n\t\t\t\t\t\t\t\t\tsDisp: `${this.state.clock.s + 1}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t\t// Ha a játékos szenzormezőről indul, azonnal induljon el a számláló\r\n\t\t\tif (isSensor === true) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsensorWarn: \"Vigyázz, szenzormező! Hátralévő idő: \"\r\n\t\t\t\t});\r\n\t\t\t\tif (!this.state.sensorRemain) {\r\n\t\t\t\t\tthis.setState({ sensorRemain: 5 });\r\n\t\t\t\t\tvar warnInterval = setInterval(() => {\r\n\t\t\t\t\t\tif (this.state.sensorWarn !== \"\") {\r\n\t\t\t\t\t\t\tif (this.state.sensorRemain < 1) {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\t\t\t\t\t\tnewTable[i][j].avail = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tsensorRemain: 0,\r\n\t\t\t\t\t\t\t\t\tresult: \"Vesztettél.\",\r\n\t\t\t\t\t\t\t\t\tclock: { ...this.state.clock, passing: false }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tclearInterval(warnInterval);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.setState({ sensorRemain: this.state.sensorRemain - 1 });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclearInterval(warnInterval);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ sensorWarn: \"\", sensorRemain: null });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Lehetséges kockára kattintáskor lefutó függvény\r\n\t\tconst clickCube = (row, col, isSensor) => {\r\n\t\t\tlet newTable = this.state.table;\r\n\t\t\tlet eventCount;\r\n\t\t\teventCount = 0;\r\n\t\t\tconsole.log(`GameCube clicked: ${row};${col}`);\r\n\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\tnewTable[i][j].avail = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\tif (i === row && j === col) {\r\n\t\t\t\t\t\tnewTable[i][j].occup = true;\r\n\t\t\t\t\t\tthis.setState({ currentStep: currentStep + 1 });\r\n\t\t\t\t\t\tnewTable[i][j].text = currentStep;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Ha a játékos semerre sem tud lépni, ez a ha függvény érzékeli\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t// Horizontal steps\r\n\t\t\t\t\t\t(i === row + 1 && j === col + 2) ||\r\n\t\t\t\t\t\t(i === row - 1 && j === col + 2) ||\r\n\t\t\t\t\t\t(i === row + 1 && j === col - 2) ||\r\n\t\t\t\t\t\t(i === row - 1 && j === col - 2) ||\r\n\t\t\t\t\t\t// Vertical steps\r\n\t\t\t\t\t\t(i === row + 2 && j === col + 1) ||\r\n\t\t\t\t\t\t(i === row - 2 && j === col + 1) ||\r\n\t\t\t\t\t\t(i === row + 2 && j === col - 1) ||\r\n\t\t\t\t\t\t(i === row - 2 && j === col - 1)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (newTable[i][j].occup === false) {\r\n\t\t\t\t\t\t\tnewTable[i][j].avail = true;\r\n\t\t\t\t\t\t\teventCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Ha szenzormező, induljon el a visszaszámlálás\r\n\t\t\tif (isSensor === true) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsensorWarn: \"Vigyázz, szenzormező! Hátralévő idő: \"\r\n\t\t\t\t});\r\n\t\t\t\tif (!this.state.sensorRemain) {\r\n\t\t\t\t\tthis.setState({ sensorRemain: 5 });\r\n\t\t\t\t\tvar warnInterval = setInterval(() => {\r\n\t\t\t\t\t\tif (this.state.sensorWarn !== \"\") {\r\n\t\t\t\t\t\t\tif (this.state.sensorRemain < 1) {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\t\t\t\t\t\tnewTable[i][j].avail = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tsensorRemain: 0,\r\n\t\t\t\t\t\t\t\t\tresult: \"Vesztettél.\",\r\n\t\t\t\t\t\t\t\t\tclock: { ...this.state.clock, passing: false }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tclearInterval(warnInterval);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.setState({ sensorRemain: this.state.sensorRemain - 1 });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclearInterval(warnInterval);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ sensorWarn: \"\", sensorRemain: null });\r\n\t\t\t}\r\n\t\t\t// Ha a játékos beszorult, jelenjen meg az üzenet\r\n\t\t\tif (eventCount === 0) {\r\n\t\t\t\tlet freeCubeCount = 0;\r\n\t\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\t\tif (newTable[i][j].occup === false) {\r\n\t\t\t\t\t\t\tfreeCubeCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Ha semerre sem lehet lépni, de szabad kocka sincs, a játékos nyert\r\n\t\t\t\tif (freeCubeCount === 0) {\r\n\t\t\t\t\tthis.setState({ sensorWarn: \"\", sensorRemain: null, result: \"Nyertél!\" });\r\n\t\t\t\t\t// Ha a kezdő kocka a lehetséges lépések között van, a játékos körútvonalat talált\r\n\t\t\t\t\tfor (let i = 0; i < rows; i++) {\r\n\t\t\t\t\t\tfor (let j = 0; j < cols; j++) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t// Horizontal steps\r\n\t\t\t\t\t\t\t\t(i === row + 1 && j === col + 2) ||\r\n\t\t\t\t\t\t\t\t(i === row - 1 && j === col + 2) ||\r\n\t\t\t\t\t\t\t\t(i === row + 1 && j === col - 2) ||\r\n\t\t\t\t\t\t\t\t(i === row - 1 && j === col - 2) ||\r\n\t\t\t\t\t\t\t\t// Vertical steps\r\n\t\t\t\t\t\t\t\t(i === row + 2 && j === col + 1) ||\r\n\t\t\t\t\t\t\t\t(i === row - 2 && j === col + 1) ||\r\n\t\t\t\t\t\t\t\t(i === row + 2 && j === col - 1) ||\r\n\t\t\t\t\t\t\t\t(i === row - 2 && j === col - 1)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\tnewTable[i][j].row === startCubePos.row &&\r\n\t\t\t\t\t\t\t\t\tnewTable[i][j].col === startCubePos.col\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ bonus: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ result: \"Vesztettél.\" });\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ clock: { ...this.state.clock, passing: false } });\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className=\"game\">\r\n\t\t\t\t<div className=\"game-container\">\r\n\t\t\t\t\t{table.map((row) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{row.map((cube) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t// A kétdimenziós tömb minden elemére jelenítsen meg egy kocka komponenst\r\n\t\t\t\t\t\t\t\t\t\t<CubeComponent\r\n\t\t\t\t\t\t\t\t\t\t\tkey={cube.row * rows + cube.col}\r\n\t\t\t\t\t\t\t\t\t\t\tid={cube.row * rows + cube.col}\r\n\t\t\t\t\t\t\t\t\t\t\tcube={cube}\r\n\t\t\t\t\t\t\t\t\t\t\tstartCube={startCube}\r\n\t\t\t\t\t\t\t\t\t\t\t// A \"this\" azért lett bindelve a függvényhez, mert nélküle a react semmilyen bindet nem érzékel\r\n\t\t\t\t\t\t\t\t\t\t\tclickCube={clickCube.bind(\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.row,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.col,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.isSensorArea\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleStart={toggleStart.bind(\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.row,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.col,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcube.isSensorArea\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<p id=\"clock\">\r\n\t\t\t\t\t{clock.mDisp}:{clock.sDisp}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p id=\"result-text\">{result}</p>\r\n\t\t\t\t<p id=\"bonus-text\">{bonus ? \"Bónusz: Körútvonalat találtál!\" : \"\"}</p>\r\n\t\t\t\t<p id=\"sensor-text\">\r\n\t\t\t\t\t{sensorWarn}\r\n\t\t\t\t\t{sensorRemain}\r\n\t\t\t\t\t{sensorWarn ? \"mp\" : \"\"}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// A kocka komponens\r\nclass CubeComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\trender() {\r\n\t\tconst { id, startCube, toggleStart, clickCube } = this.props;\r\n\r\n\t\tconst { text, avail, isSensorArea, isSensorCenter } = this.props.cube;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid={id}\r\n\t\t\t\tclassName={`cube ${isSensorArea ? \"cube-sensor\" : \"\"} ${\r\n\t\t\t\t\tavail ? \"cube-avail\" : \"\"\r\n\t\t\t\t} `}\r\n\t\t\t\tonClick={startCube ? toggleStart : avail ? clickCube : null}\r\n\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`cube-content ${startCube ? \"cube-x\" : \"cube-num\"} ${text >= 100 ? \"cube-hundred\" : \"\"} ${\r\n\t\t\t\t\t\tisSensorCenter ? \"cube-sensor-center\" : \"\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst domContainer = document.querySelector(\"#app\");\r\nReactDOM.render(e(App), domContainer);\r\n"]}